<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Shortest Bus Route Finder</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f6f8;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }
    .container {
      background: #ffffff;
      padding: 25px 30px;
      border-radius: 10px;
      width: 420px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }
    h2 {
      text-align: center;
      margin-bottom: 20px;
    }
    label {
      font-weight: bold;
      display: block;
      margin-top: 10px;
    }
    input, textarea, button {
      width: 100%;
      margin-top: 5px;
      padding: 8px;
      border-radius: 5px;
      border: 1px solid #ccc;
    }
    textarea {
      resize: none;
    }
    button {
      background: #2563eb;
      color: white;
      border: none;
      margin-top: 15px;
      cursor: pointer;
      font-size: 16px;
    }
    button:hover {
      background: #1e40af;
    }
    .output {
      margin-top: 15px;
      padding: 10px;
      background: #eef2ff;
      border-radius: 5px;
      font-size: 14px;
      min-height: 60px;
    }
  </style>
</head>
<body>

<div class="container">
  <h2>Shortest Bus Route Finder</h2>

  <label>Total Bus Stops</label>
  <input id="stops" type="number" placeholder="e.g. 6" />

  <label>Routes (src dest per line)</label>
  <textarea id="routes" rows="4" placeholder="0 1
1 2
2 3
3 4"></textarea>

  <label>Source Stop</label>
  <input id="src" type="number" placeholder="e.g. 0" />

  <label>Destination Stop</label>
  <input id="dest" type="number" placeholder="e.g. 4" />

  <button onclick="findRoute()">Find Shortest Route</button>

  <div class="output" id="output"></div>
</div>

<script>
function findRoute() {
  const n = parseInt(document.getElementById('stops').value);
  const src = parseInt(document.getElementById('src').value);
  const dest = parseInt(document.getElementById('dest').value);
  const routeText = document.getElementById('routes').value.trim();
  const output = document.getElementById('output');

  if (isNaN(n) || isNaN(src) || isNaN(dest)) {
    output.innerHTML = 'Please enter all inputs correctly.';
    return;
  }

  let adj = Array.from({ length: n }, () => []);

  if (routeText.length > 0) {
    const lines = routeText.split('\n');
    for (let line of lines) {
      let parts = line.trim().split(' ');
      if (parts.length === 2) {
        let a = parseInt(parts[0]);
        let b = parseInt(parts[1]);
        if (!isNaN(a) && !isNaN(b) && a < n && b < n) {
          adj[a].push(b);
          adj[b].push(a);
        }
      }
    }
  }

  let visited = Array(n).fill(false);
  let parent = Array(n).fill(-1);
  let queue = [];

  visited[src] = true;
  queue.push(src);

  while (queue.length > 0) {
    let cur = queue.shift();
    if (cur === dest) break;

    for (let v of adj[cur]) {
      if (!visited[v]) {
        visited[v] = true;
        parent[v] = cur;
        queue.push(v);
      }
    }
  }

  if (parent[dest] === -1 && src !== dest) {
    output.innerHTML = 'No route found between stops.';
    return;
  }

  let path = [];
  let crawl = dest;
  while (crawl !== -1) {
    path.push(crawl);
    crawl = parent[crawl];
  }
  path.reverse();

  output.innerHTML = `Shortest Bus Route: ${path.join(' â†’ ')}<br>Total Stops: ${path.length - 1}`;
}
</script>

</body>
</html>
